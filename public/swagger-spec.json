{"openapi":"3.0.0","paths":{"/api/readiness":{"get":{"operationId":"AppController_isReady","summary":"Api is ready","parameters":[],"responses":{"200":{"description":""}},"tags":["service"]}},"/api/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"400":{"description":"Неверный логин или пароль"}},"tags":["Авторизация"]}},"/api/auth/sign-up":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRegisterDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRegisterDto"}}}},"400":{"description":"Неверный логин или пароль"}},"tags":["Авторизация"]}},"/api/auth/refresh-token":{"post":{"operationId":"AuthController_refreshToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRefreshTokenDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"400":{"description":"Неверный логин или пароль"}},"tags":["Авторизация"]}},"/api/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthForgotPasswordDto"}}}},"responses":{"204":{"description":""}},"tags":["Авторизация"]}},"/api/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResetPasswordDto"}}}},"responses":{"204":{"description":""}},"tags":["Авторизация"]}},"/api/auth/change-password":{"post":{"operationId":"AuthController_changePassword","summary":"Изменение пароля пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthChangePasswordDto"}}}},"responses":{"204":{"description":""},"401":{"description":"Неверный пароль"},"404":{"description":"Пользователь не найден"}},"tags":["Авторизация"],"security":[{"bearer":[]}]}},"/api/auth/profile":{"get":{"operationId":"AuthController_getProfile","summary":"Получить одного пользователя","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"Пользователь не найден"}},"tags":["Авторизация"],"security":[{"bearer":[]}]},"patch":{"operationId":"AuthController_updateProfile","summary":"Обновить пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileDto"}}}},"responses":{"200":{"description":""},"404":{"description":"Пользователь не найден"}},"tags":["Авторизация"],"security":[{"bearer":[]}]}}},"info":{"title":"NestJS App","description":"The NestJS App API description","version":"1.0","contact":{}},"tags":[{"name":"NestJS App","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Role":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string","enum":["administrator","user","moderator"]}},"required":["id","name","slug"]},"UserPasswordReset":{"type":"object","properties":{}},"User":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"$ref":"#/components/schemas/Role"},"passwordReset":{"$ref":"#/components/schemas/UserPasswordReset"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","username","email","password","role","passwordReset","createdAt","updatedAt"]},"AuthLoginDto":{"type":"object","properties":{"email":{"type":"string","default":"administrator-russia@italian-fabric.com"},"password":{"type":"string","default":"password"}},"required":["email","password"]},"AuthResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","readOnly":true},"refreshToken":{"type":"string","readOnly":true},"expiresIn":{"type":"number","readOnly":true},"refreshExpiresIn":{"type":"number","readOnly":true}},"required":["accessToken","refreshToken","expiresIn","refreshExpiresIn"]},"AuthRegisterDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"countryId":{"type":"string"},"legalPerson":{"type":"boolean"}},"required":["name","email","password","phone","countryId","legalPerson"]},"AuthRefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"AuthForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"AuthResetPasswordDto":{"type":"object","properties":{"email":{"type":"string"},"hash":{"type":"string"},"password":{"type":"string"},"retryPassword":{"type":"string"}},"required":["email","hash","password","retryPassword"]},"AuthChangePasswordDto":{"type":"object","properties":{"repeatPassword":{"type":"string"},"newPassword":{"type":"string"}},"required":["repeatPassword","newPassword"]},"UpdateProfileDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}},"required":["name","email"]}}}}